{"version":3,"sources":["webpack://@goldenglorys/notebook/./src/pages/2020-03-20_building_predict_covid_with_redwood.mdx"],"names":["_frontmatter","layoutProps","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"sPAOaA,EAAe,GACtBC,EAAc,CAClBD,gBAGa,SAASE,EAAT,GAGX,IAFFC,EAEC,EAFDA,WACGC,GACF,yBACD,OAAO,QALS,UAKT,iBAAeH,EAAiBG,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,eAC5E,0DAA4C,aAAGC,WAAW,KACtD,KAAQ,0BADgC,aAA5C,SAGA,kEAAoD,aAAGA,WAAW,IAC9D,KAAQ,0BADwC,aAApD,wBAE8C,kBAAQA,WAAW,KAAnB,oBAF9C,wPAGA,kBAAG,aAAGA,WAAW,IACb,KAAQ,8BACP,kBAAQA,WAAW,KAAnB,uBACL,kBAAG,eAAKA,WAAW,IACf,IAAO,8HACP,IAAO,yBAEX,yCACA,8BACA,mBACE,cAAIA,WAAW,MAAf,oJACA,cAAIA,WAAW,MAAf,sBAA0C,sBAAYA,WAAW,MAAvB,WAA1C,0CAAwI,sBAAYA,WAAW,MAAvB,OAAxI,QAAgM,sBAAYA,WAAW,MAAvB,cAAhM,sDACA,cAAIA,WAAW,MAAf,wGACA,cAAIA,WAAW,MAAf,gGAEF,+BACA,+BAAiB,aAAGA,WAAW,IAC3B,KAAQ,wCADK,SAAjB,uFAGA,mBACE,cAAIA,WAAW,OAAK,sBAAYA,WAAW,MAAvB,aAApB,gKACA,cAAIA,WAAW,OAAK,sBAAYA,WAAW,MAAvB,eAApB,gDACA,cAAIA,WAAW,OAAK,sBAAYA,WAAW,MAAvB,SAApB,oJAEF,sDAAwC,aAAGA,WAAW,IAClD,KAAQ,wCAD4B,0CAGxC,wJACA,oBACA,0CACA,ifACA,0FAA4E,aAAGA,WAAW,IACtF,KAAQ,uBADgE,WAA5E,2WAGA,mBACE,cAAIA,WAAW,MAAf,sHACA,cAAIA,WAAW,MAAf,8FAEF,gfAKJJ,EAAWK,gBAAiB","file":"component---src-pages-2020-03-20-building-predict-covid-with-redwood-mdx-bd75712d1ccd9e6a5ae1.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = \"wrapper\";\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n    <h1>{`Predict COVID: The first production `}<a parentName=\"h1\" {...{\n        \"href\": \"https://redwoodjs.com/\"\n      }}>{`RedwoodJS`}</a>{` app`}</h1>\n    <p>{`This weekend, Zach Latta & I built the first `}<a parentName=\"p\" {...{\n        \"href\": \"https://redwoodjs.com/\"\n      }}>{`RedwoodJS`}</a>{` app in production: `}<strong parentName=\"p\">{`Predict COVID-19`}</strong>{`. It’s an interactive visualization of the global COVID-19 pandemic, allowing you to see the case trajectories of each country. The main takeaway: the U.S. outbreak is 10 days behind Italy, & tracking it exactly. (see pink line vs green below)`}</p>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://predictcovid.com/\"\n      }}><strong parentName=\"a\">{`predictcovid.com`}</strong></a></p>\n    <p><img parentName=\"p\" {...{\n        \"src\": \"https://rwjs-discourse.nyc3.cdn.digitaloceanspaces.com/optimized/1X/cc6b2e1a0a8a2f93345a476144fbfc898d1646cb_2_690x403.jpeg\",\n        \"alt\": \"Screenshot of site\"\n      }}></img></p>\n    <h2>{`Technical overview`}</h2>\n    <h3>{`Backend`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`We used a SQLite database in development, then Heroku Postgres for early deployments, but switched to MySQL on AWS RDS for the final deployment`}</li>\n      <li parentName=\"ul\">{`We used 3 tables: `}<inlineCode parentName=\"li\">{`Country`}</inlineCode>{` (for grouping/storing country info), `}<inlineCode parentName=\"li\">{`Day`}</inlineCode>{`, & `}<inlineCode parentName=\"li\">{`DailyCount`}</inlineCode>{` (each of the statistics for a day for a country)`}</li>\n      <li parentName=\"ul\">{`We used a lambda function for the data scraper (does standard web scraping & saves to the database)`}</li>\n      <li parentName=\"ul\">{`Deployment is hosted on Netlify, using Pingdom analytics to track performance after launch`}</li>\n    </ul>\n    <h3>{`Frontend`}</h3>\n    <p>{`We used 3 `}<a parentName=\"p\" {...{\n        \"href\": \"https://redwoodjs.com/tutorial/cells\"\n      }}>{`cells`}</a>{` for the homepage, which dictated the general technical structure of the frontend.`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`Countries`}</inlineCode>{` is the left sidebar, where you can pick which countries to plot & which is the default. I used basic React Hooks for state management here, nothing crazy.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`DailyCounts`}</inlineCode>{` is the main graph, rendered with Recharts.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`Stats`}</inlineCode>{` is the sparklines + stats at the bottom. We auto-detect what country you’re in & show stats for that country if it’s represented on the site.`}</li>\n    </ul>\n    <p>{`It’s entirely open source, here: `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/lachlanjc/covid19\"\n      }}>{`https://github.com/lachlanjc/covid19`}</a></p>\n    <p>{`Shoutout to the entire Redwood team for their incredible assistance in deploying the project, including setting up the database <3`}</p>\n    <hr></hr>\n    <h2>{`Thoughts on Redwood`}</h2>\n    <p>{`Redwood had some on-ramp for sure, mostly since I wasn’t previously familiar with GraphQL, but I got the hang of things pretty quickly. Deployment was the main pain point—I set up a Heroku Postgres database, but we weren’t sure if it could handle the traffic, so we switched it to Amazon RDS, & that was rough for sure. We used Netlify for the site since Redwood has built-in support/setup & Netlify gave us an unlimited plan (including Analytics) since it’s a COVID project.`}</p>\n    <p>{`I 100% see Redwood becoming way bigger. I’m going to continue to use `}<a parentName=\"p\" {...{\n        \"href\": \"https://nextjs.org/\"\n      }}>{`Next.js`}</a>{` for the majority of my projects, especially since I’m not making “apps,” but whenever I need to store data, I’d use Redwood again. Its idea of cells is a great new conception, the fullstack integration is great, they help with a lot of things like forms & database queries & have CLI generators throughout the experience. It has 2 main weak points, I think:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`It’s all client-side rendering, which is a real downside & Next stands head + shoulders above, at least for now. `}</li>\n      <li parentName=\"ol\">{`Deployment, because you have to set up a hosted database & connect it to your main app. `}</li>\n    </ol>\n    <p>{`Server rendering they’re clearly thinking about, & considering Tom is an investor in Netlify, I wouldn’t be shocked if deployment becomes much more streamlined. Redwood won’t replace Next, but I think it makes building entire classes of applications enormously more accessible in a truly exciting way. It’s incredibly early on right now & a ton of things need a ton more work, but they’ve got several full-time developers working on it every day so I expect quick iteration.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}